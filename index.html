<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="makson.css">
    <title>IBRAIN</title>
</head>
<body onload="tempMessage();">
    <div id="terminal">
        <div class="ibrain logo2" style="text-align: center;">
            <h1><span class="blue">IBR</span><span class="pink">AIN</span></h1>
        </div>
        <div class="textController">
            <div onclick="tempMessage()" id="output"></div>
            <div onclick="" id="input-line">
                <div id="prompt">
                    <br>
                    <span id="userIP">Fetching...</span>
                    <div class="writingBox">
                        <div class="write stopatbottom" style="display: none;">
                            write
                        </div>
                        <div type="search" contenteditable="true" id="cmd1">
                            Type your message here...
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="makson" id="terminal2">
        <div class="ibrain logo2" style="text-align: center;">
            <h1><span class="blue">IBR</span><span class="pink">AIN</span></h1>
        </div>
        <div class="textController2">
            <div id="output2"></div>
            <div id="input-line2">
                <div id="prompt2">
                    <br>
                    <span id="userIP2">Fetching...</span>
                    <div class="writingBox2">
                        <div class="write2 stopatbottom" style="display: block;">
                            Type your command below:
                        </div>
                        <div type="search" contenteditable="true" id="cmd2">
                            Type your message here...
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
    
    
    alert('This message is temporarily stored for visible only for you, Nema. It will be deleted once read.')

    
         function togglePlaceholder2() {
            var placeholder2 = document.getElementById('cmd2');

            if (placeholder2.innerHTML.trim() === '') {
                // If the placeholder is empty, show "Type inside me"
                placeholder2.innerHTML = 'Type your message here...1';
            } else {
                // If the placeholder is not empty, hide it
                placeholder2.innerHTML = '';
            }
        }

        document.addEventListener("DOMContentLoaded", function () {
            var textController = document.querySelector('.textController2');

            function scrollIntoView() {
                textController.scrollTop = textController.scrollHeight;
            }

            var observer = new MutationObserver(scrollIntoView);
            var observerConfig = {
                childList: true, subtree: true
            };

            observer.observe(textController, observerConfig);
            scrollIntoView();
        });

        var cmd2Element = document.getElementById('cmd2');
        var write2Element = document.querySelector('.write2');

        cmd2Element.addEventListener('input', function(event) {
            // Get the text content
            var textContent = cmd2Element.innerText.trim();

            // Update the writing status
            if (textContent !== '') {
                write2Element.style.display = '';
                //**   write2Element.innerHTML = 'Writing...';

                // Display character, word, and sentence counts
                var charCount = textContent.length;
                var wordCount = textContent.split(/\s+/).filter(function(word) {
                    return word.length > 0;
                }).length;
                var sentenceCount = textContent.split(/[.!?]+/).filter(function(sentence) {
                    return sentence.length > 0;
                }).length;

                // write2Element.innerHTML += '<br>Char: ' + charCount + ' | Words: ' + wordCount + ' | Sen: ' + sentenceCount;

                cmd2Element.style.width = '100%';
            } else {
                // Reset display when there is no text
                write2Element.style.display = '';
                cmd2Element.style.width = '100%';
                cmd2Element.style.transition = '0.5s';
                // write2Element.innerHTML = 'write';
            }
        });

        cmd2Element.addEventListener('focus', function() {
            // Hide "Type inside me" when input is focused
            var placeholder2 = document.getElementById('cmd2');
            placeholder2.innerHTML = '';
        });

        cmd2Element.addEventListener('blur', function() {
            // Show "Type inside me" when input loses focus if it's empty
            var placeholder2 = document.getElementById('cmd2');
            if (placeholder2.innerHTML.trim() === '' && cmd1Element !== document.activeElement) {
                placeholder2.innerHTML = 'Type your message here...2';
            }
        });

        cmd2Element.addEventListener('keydown', function(event) {
            if (event.key === 'Enter') {
                var write2Element = document.querySelector('.write2');
                write2Element.style.display = '';
                //*    writeElement.innerHTML = 'write';

                // Show "Type inside me" again
            }
        });

    </script>
    
    <script src="script.js"></script>
    <script src="ip.js"></script>
    <script>
        function togglePlaceholder() {
            var placeholder = document.getElementById('cmd1');

            if (placeholder.innerHTML.trim() === '') {
                // If the placeholder is empty, show "Type inside me"
                placeholder.innerHTML = 'Type your message here...';
            } else {
                // If the placeholder is not empty, hide it
                placeholder.innerHTML = '';
            }
        }

        document.addEventListener("DOMContentLoaded", function () {
            var textController = document.querySelector('.textController');

            function scrollIntoView() {
                textController.scrollTop = textController.scrollHeight;
            }

            var observer = new MutationObserver(scrollIntoView);
            var observerConfig = {
                childList: true, subtree: true
            };

            observer.observe(textController, observerConfig);
            scrollIntoView();
        });

        var cmd1Element = document.getElementById('cmd1');
        var writeElement = document.querySelector('.write');

        cmd1Element.addEventListener('input', function(event) {
            // Get the text content
            var textContent = cmd1Element.innerText.trim();

            // Update the writing status
            if (textContent !== '') {
                writeElement.style.display = '';
                //**   writeElement.innerHTML = 'Writing...';

                // Display character, word, and sentence counts
                var charCount = textContent.length;
                var wordCount = textContent.split(/\s+/).filter(function(word) {
                    return word.length > 0;
                }).length;
                var sentenceCount = textContent.split(/[.!?]+/).filter(function(sentence) {
                    return sentence.length > 0;
                }).length;

                // writeElement.innerHTML += '<br>Char: ' + charCount + ' | Words: ' + wordCount + ' | Sen: ' + sentenceCount;

                cmd1Element.style.width = '100%';
            } else {
                // Reset display when there is no text
                writeElement.style.display = '';
                cmd1Element.style.width = '100%';
                cmd1Element.style.transition = '0.5s';
                // writeElement.innerHTML = 'write';
            }
        });

        cmd1Element.addEventListener('focus', function() {
            // Hide "Type inside me" when input is focused
            var placeholder = document.getElementById('cmd1');
            placeholder.innerHTML = '';
        });

        cmd1Element.addEventListener('blur', function() {
            // Show "Type inside me" when input loses focus if it's empty
            var placeholder = document.getElementById('cmd1');
            if (placeholder.innerHTML.trim() === '' && cmd1Element !== document.activeElement) {
                placeholder.innerHTML = 'Type your message here...';
            }
        });

        cmd1Element.addEventListener('keydown', function(event) {
            if (event.key === 'Enter') {
                var writeElement = document.querySelector('.write');
                writeElement.style.display = '';
                //*    writeElement.innerHTML = 'write';

                // Show "Type inside me" again
                var placeholder = document.getElementById('cmd1');
                placeholder.innerHTML = 'Type your message here...';
            }
        });
    </script>
</body>
</html>